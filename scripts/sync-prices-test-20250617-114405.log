=== TEST DE SINCRONIZACIÓN DE PRECIOS POR LOTES ===
2025-06-17 11:44:05

[2025-06-17 11:44:05] Iniciando prueba de sincronización de precios por lotes
[2025-06-17 11:44:05] Tamaño de lote: 5
[2025-06-17 11:44:05] Lotes máximos a procesar: 3
[2025-06-17 11:44:05] Total máximo de productos: 15
[2025-06-17 11:44:05] Obteniendo instancia de Sync_Manager
[2025-06-17 11:44:05] Comprobando estado de la API...
[2025-06-17 11:44:05] Configuración de API:
Array
(
    [url] => http://x.verial.org:8000/WcfServiceLibraryVerial
    [session_id] => 18
)

[2025-06-17 11:44:05] Probando conexión a la API de Verial...
[2025-06-17 11:44:05] Conexión a la API establecida correctamente
[2025-06-17 11:44:05] === COMENZANDO SIMULACIÓN DE SINCRONIZACIÓN DE PRECIOS POR LOTES ===
[2025-06-17 11:44:05] Obteniendo lista inicial de productos (máximo 15)...
[2025-06-17 11:44:05] Se obtuvieron 15 productos para sincronizar
[2025-06-17 11:44:05] 
=== PROCESANDO LOTE #1 (productos 0 - 4) ===
[2025-06-17 11:44:05] Procesando producto: Producto de prueba 1 (ID: 1, REF: REF-1)
[2025-06-17 11:44:05] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:05] ❌ No se encontró precio para el producto 'Producto de prueba 1'
[2025-06-17 11:44:05] Datos para WooCommerce:
Array
(
    [sku] => REF-1
    [name] => Producto de prueba 1
    [regular_price] => 
    [sale_price] => 
)

[2025-06-17 11:44:05] Procesando producto: Producto de prueba 2 (ID: 2, REF: REF-2)
[2025-06-17 11:44:05] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:05] ❌ No se encontró precio para el producto 'Producto de prueba 2'
[2025-06-17 11:44:05] Datos para WooCommerce:
Array
(
    [sku] => REF-2
    [name] => Producto de prueba 2
    [regular_price] => 
    [sale_price] => 
)

[2025-06-17 11:44:05] Procesando producto: Producto de prueba 3 (ID: 3, REF: REF-3)
[2025-06-17 11:44:05] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:05] ✅ Precio encontrado para producto 'Producto de prueba 3':
Array
(
    [precio_base] => 32.5
    [precio_oferta] => 31.525
)

[2025-06-17 11:44:05] Datos para WooCommerce:
Array
(
    [sku] => REF-3
    [name] => Producto de prueba 3
    [regular_price] => 32.5
    [sale_price] => 31.525
)

[2025-06-17 11:44:05] Procesando producto: Producto de prueba 4 (ID: 4, REF: REF-4)
[2025-06-17 11:44:05] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:05] ✅ Precio encontrado para producto 'Producto de prueba 4':
Array
(
    [precio_base] => 67.22
    [precio_oferta] => 55.7926
)

[2025-06-17 11:44:05] Datos para WooCommerce:
Array
(
    [sku] => REF-4
    [name] => Producto de prueba 4
    [regular_price] => 67.22
    [sale_price] => 55.7926
)

[2025-06-17 11:44:05] Procesando producto: Producto de prueba 5 (ID: 5, REF: REF-5)
[2025-06-17 11:44:05] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:05] ✅ Precio encontrado para producto 'Producto de prueba 5':
Array
(
    [precio_base] => 14.78
    [precio_oferta] => 13.5976
)

[2025-06-17 11:44:05] Datos para WooCommerce:
Array
(
    [sku] => REF-5
    [name] => Producto de prueba 5
    [regular_price] => 14.78
    [sale_price] => 13.5976
)

[2025-06-17 11:44:05] 
--- Estadísticas del lote #1 ---
[2025-06-17 11:44:05] Productos procesados: 5
[2025-06-17 11:44:05] Productos con precio: 3
[2025-06-17 11:44:05] Productos sin precio: 2
[2025-06-17 11:44:05] Errores encontrados: 0
[2025-06-17 11:44:05] Tiempo de procesamiento: 0.5 segundos
[2025-06-17 11:44:05] Uso de memoria después del lote: 2 MB
[2025-06-17 11:44:06] 
=== PROCESANDO LOTE #2 (productos 5 - 9) ===
[2025-06-17 11:44:06] Procesando producto: Producto de prueba 6 (ID: 6, REF: REF-6)
[2025-06-17 11:44:06] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:06] ❌ No se encontró precio para el producto 'Producto de prueba 6'
[2025-06-17 11:44:06] Datos para WooCommerce:
Array
(
    [sku] => REF-6
    [name] => Producto de prueba 6
    [regular_price] => 
    [sale_price] => 
)

[2025-06-17 11:44:06] Procesando producto: Producto de prueba 7 (ID: 7, REF: REF-7)
[2025-06-17 11:44:06] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:06] ✅ Precio encontrado para producto 'Producto de prueba 7':
Array
(
    [precio_base] => 39.63
    [precio_oferta] => 38.4411
)

[2025-06-17 11:44:06] Datos para WooCommerce:
Array
(
    [sku] => REF-7
    [name] => Producto de prueba 7
    [regular_price] => 39.63
    [sale_price] => 38.4411
)

[2025-06-17 11:44:06] Procesando producto: Producto de prueba 8 (ID: 8, REF: REF-8)
[2025-06-17 11:44:06] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:06] ❌ No se encontró precio para el producto 'Producto de prueba 8'
[2025-06-17 11:44:06] Datos para WooCommerce:
Array
(
    [sku] => REF-8
    [name] => Producto de prueba 8
    [regular_price] => 
    [sale_price] => 
)

[2025-06-17 11:44:06] Procesando producto: Producto de prueba 9 (ID: 9, REF: REF-9)
[2025-06-17 11:44:06] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:06] ✅ Precio encontrado para producto 'Producto de prueba 9':
Array
(
    [precio_base] => 46.56
    [precio_oferta] => 37.248
)

[2025-06-17 11:44:06] Datos para WooCommerce:
Array
(
    [sku] => REF-9
    [name] => Producto de prueba 9
    [regular_price] => 46.56
    [sale_price] => 37.248
)

[2025-06-17 11:44:06] Procesando producto: Producto de prueba 10 (ID: 10, REF: REF-10)
[2025-06-17 11:44:06] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:06] ❌ No se encontró precio para el producto 'Producto de prueba 10'
[2025-06-17 11:44:06] Datos para WooCommerce:
Array
(
    [sku] => REF-10
    [name] => Producto de prueba 10
    [regular_price] => 
    [sale_price] => 
)

[2025-06-17 11:44:07] 
--- Estadísticas del lote #2 ---
[2025-06-17 11:44:07] Productos procesados: 5
[2025-06-17 11:44:07] Productos con precio: 2
[2025-06-17 11:44:07] Productos sin precio: 3
[2025-06-17 11:44:07] Errores encontrados: 0
[2025-06-17 11:44:07] Tiempo de procesamiento: 0.5 segundos
[2025-06-17 11:44:07] Uso de memoria después del lote: 2 MB
[2025-06-17 11:44:08] 
=== PROCESANDO LOTE #3 (productos 10 - 14) ===
[2025-06-17 11:44:08] Procesando producto: Producto de prueba 11 (ID: 11, REF: REF-11)
[2025-06-17 11:44:08] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:08] ❌ No se encontró precio para el producto 'Producto de prueba 11'
[2025-06-17 11:44:08] Datos para WooCommerce:
Array
(
    [sku] => REF-11
    [name] => Producto de prueba 11
    [regular_price] => 
    [sale_price] => 
)

[2025-06-17 11:44:08] Procesando producto: Producto de prueba 12 (ID: 12, REF: REF-12)
[2025-06-17 11:44:08] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:08] ❌ No se encontró precio para el producto 'Producto de prueba 12'
[2025-06-17 11:44:08] Datos para WooCommerce:
Array
(
    [sku] => REF-12
    [name] => Producto de prueba 12
    [regular_price] => 
    [sale_price] => 
)

[2025-06-17 11:44:08] Procesando producto: Producto de prueba 13 (ID: 13, REF: REF-13)
[2025-06-17 11:44:08] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:08] ✅ Precio encontrado para producto 'Producto de prueba 13':
Array
(
    [precio_base] => 78.96
    [precio_oferta] => 63.168
)

[2025-06-17 11:44:08] Datos para WooCommerce:
Array
(
    [sku] => REF-13
    [name] => Producto de prueba 13
    [regular_price] => 78.96
    [sale_price] => 63.168
)

[2025-06-17 11:44:08] Procesando producto: Producto de prueba 14 (ID: 14, REF: REF-14)
[2025-06-17 11:44:08] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:08] ✅ Precio encontrado para producto 'Producto de prueba 14':
Array
(
    [precio_base] => 7.89
    [precio_oferta] => 7.5744
)

[2025-06-17 11:44:08] Datos para WooCommerce:
Array
(
    [sku] => REF-14
    [name] => Producto de prueba 14
    [regular_price] => 7.89
    [sale_price] => 7.5744
)

[2025-06-17 11:44:08] Procesando producto: Producto de prueba 15 (ID: 15, REF: REF-15)
[2025-06-17 11:44:08] Detectada estructura CondicionesTarifa
[2025-06-17 11:44:08] ✅ Precio encontrado para producto 'Producto de prueba 15':
Array
(
    [precio_base] => 62.63
    [precio_oferta] => 58.2459
)

[2025-06-17 11:44:08] Datos para WooCommerce:
Array
(
    [sku] => REF-15
    [name] => Producto de prueba 15
    [regular_price] => 62.63
    [sale_price] => 58.2459
)

[2025-06-17 11:44:08] 
--- Estadísticas del lote #3 ---
[2025-06-17 11:44:08] Productos procesados: 5
[2025-06-17 11:44:08] Productos con precio: 3
[2025-06-17 11:44:08] Productos sin precio: 2
[2025-06-17 11:44:08] Errores encontrados: 0
[2025-06-17 11:44:08] Tiempo de procesamiento: 0.5 segundos
[2025-06-17 11:44:08] Uso de memoria después del lote: 2 MB
[2025-06-17 11:44:09] 
=== ESTADÍSTICAS FINALES DE SINCRONIZACIÓN ===
[2025-06-17 11:44:09] Lotes procesados: 3
[2025-06-17 11:44:09] Productos procesados: 15
[2025-06-17 11:44:09] Productos con precio: 8 (53.33%)
[2025-06-17 11:44:09] Productos sin precio: 7 (46.67%)
[2025-06-17 11:44:09] Errores encontrados: 0
[2025-06-17 11:44:09] 
=== ANÁLISIS Y RECOMENDACIONES ===
[2025-06-17 11:44:09] ⚠️ Se detectaron 7 productos sin precio. Revisar la estructura de respuesta de la API para estos productos.
[2025-06-17 11:44:09] ⚠️ Menos del 90% de los productos tienen precios. Puede haber un problema con la API o con la configuración de precios.
[2025-06-17 11:44:09] Uso máximo de memoria durante la ejecución: 2 MB
[2025-06-17 11:44:09] ✅ El uso de memoria se mantuvo en niveles aceptables.
[2025-06-17 11:44:09] 
Test completado. Archivo de log guardado en: /home/christian/Documentos/Poyectos/mi-integracion-api/scripts/sync-prices-test-20250617-114405.log
